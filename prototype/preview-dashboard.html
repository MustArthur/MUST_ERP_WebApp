<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MUST ERP - Dashboard Preview</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@300;400;500;600;700&display=swap');
    body { font-family: 'Noto Sans Thai', sans-serif; }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect } = React;

    // Icon Components (simplified)
    const Icon = ({ name, className = "w-5 h-5" }) => {
      useEffect(() => {
        lucide.createIcons();
      }, []);
      return <i data-lucide={name} className={className}></i>;
    };

    // Sample Data
    const dashboardData = {
      kpis: {
        todayProduction: { value: 450, unit: '‡∏Ç‡∏ß‡∏î', target: 500, trend: '+12%' },
        inventoryValue: { value: 1250000, unit: '‡∏ö‡∏≤‡∏ó', trend: '+5%' },
        pendingOrders: { value: 3, unit: '‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£' },
        lowStockItems: { value: 5, unit: '‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£', alert: true }
      },
      expiringLots: [
        { id: 1, lotNumber: 'SUP-20260125-001', item: '‡∏≠‡∏Å‡πÑ‡∏Å‡πà‡∏™‡∏î', expiry: '2026-01-31', daysLeft: 2, qty: '15 KG' },
        { id: 2, lotNumber: 'SUP-20260120-003', item: 'Whey Protein', expiry: '2026-02-05', daysLeft: 7, qty: '8 KG' },
        { id: 3, lotNumber: 'PRD-20260115-002', item: '‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô Original', expiry: '2026-04-15', daysLeft: 76, qty: '120 BTL' },
      ],
      productionOrders: [
        { id: 1, orderNo: 'PO-202601-001', product: '‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô‡πÑ‡∏Å‡πà Original', qty: 200, status: 'IN_PROGRESS', progress: 65, startTime: '08:00' },
        { id: 2, orderNo: 'PO-202601-002', product: '‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô‡πÑ‡∏Å‡πà Vanilla', qty: 150, status: 'PLANNED', progress: 0, startTime: '14:00' },
        { id: 3, orderNo: 'PO-202601-003', product: '‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô‡πÑ‡∏Å‡πà Double', qty: 100, status: 'DRAFT', progress: 0, startTime: '-' },
      ],
      recentTransactions: [
        { id: 1, type: 'RECEIVE', item: '‡∏≠‡∏Å‡πÑ‡∏Å‡πà‡∏™‡∏î', qty: '+50 KG', time: '09:30', user: '‡∏™‡∏°‡∏´‡∏ç‡∏¥‡∏á' },
        { id: 2, type: 'PRODUCTION_OUT', item: '‡∏≠‡∏Å‡πÑ‡∏Å‡πà‡∏™‡∏î', qty: '-20 KG', time: '09:15', user: '‡∏£‡∏∞‡∏ö‡∏ö' },
        { id: 3, type: 'PRODUCTION_IN', item: '‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô‡πÑ‡∏Å‡πà Original', qty: '+100 BTL', time: '08:45', user: '‡∏™‡∏°‡∏ä‡∏≤‡∏¢' },
        { id: 4, type: 'ISSUE', item: '‡∏Ç‡∏ß‡∏î PET 350ml', qty: '-200 PC', time: '08:30', user: '‡∏£‡∏∞‡∏ö‡∏ö' },
      ],
      coldStorageTemp: { current: 3.5, min: 0, max: 5, status: 'NORMAL' }
    };

    // Status Badge Component
    const StatusBadge = ({ status }) => {
      const styles = {
        'IN_PROGRESS': 'bg-blue-100 text-blue-800',
        'PLANNED': 'bg-yellow-100 text-yellow-800',
        'COMPLETED': 'bg-green-100 text-green-800',
        'DRAFT': 'bg-gray-100 text-gray-800',
      };
      const labels = {
        'IN_PROGRESS': '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ú‡∏•‡∏¥‡∏ï',
        'PLANNED': '‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡πÅ‡∏•‡πâ‡∏ß',
        'COMPLETED': '‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô',
        'DRAFT': '‡∏£‡πà‡∏≤‡∏á',
      };
      return (
        <span className={`px-2 py-1 rounded-full text-xs font-medium ${styles[status]}`}>
          {labels[status]}
        </span>
      );
    };

    // KPI Card Component
    const KPICard = ({ title, value, unit, trend, alert, iconName }) => (
      <div className={`bg-white rounded-xl p-5 shadow-sm border ${alert ? 'border-red-300 bg-red-50' : 'border-gray-100'}`}>
        <div className="flex justify-between items-start">
          <div>
            <p className="text-gray-500 text-sm">{title}</p>
            <p className={`text-2xl font-bold mt-1 ${alert ? 'text-red-600' : 'text-gray-900'}`}>
              {typeof value === 'number' ? value.toLocaleString() : value}
              <span className="text-sm font-normal text-gray-500 ml-1">{unit}</span>
            </p>
            {trend && (
              <p className={`text-sm mt-1 ${trend.startsWith('+') ? 'text-green-600' : 'text-red-600'}`}>
                {trend} ‡∏à‡∏≤‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏ô
              </p>
            )}
          </div>
          <div className={`p-3 rounded-lg ${alert ? 'bg-red-100' : 'bg-blue-50'}`}>
            <i data-lucide={iconName} className={`w-6 h-6 ${alert ? 'text-red-600' : 'text-blue-600'}`}></i>
          </div>
        </div>
      </div>
    );

    // Transaction Badge
    const TransactionBadge = ({ type }) => {
      const config = {
        'RECEIVE': { color: 'bg-green-100 text-green-800', label: '‡∏£‡∏±‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤' },
        'ISSUE': { color: 'bg-orange-100 text-orange-800', label: '‡πÄ‡∏ö‡∏¥‡∏Å‡∏≠‡∏≠‡∏Å' },
        'PRODUCTION_IN': { color: 'bg-blue-100 text-blue-800', label: '‡∏£‡∏±‡∏ö‡∏à‡∏≤‡∏Å‡∏ú‡∏•‡∏¥‡∏ï' },
        'PRODUCTION_OUT': { color: 'bg-purple-100 text-purple-800', label: '‡πÄ‡∏ö‡∏¥‡∏Å‡∏ú‡∏•‡∏¥‡∏ï' },
      };
      const { color, label } = config[type] || { color: 'bg-gray-100', label: type };
      return <span className={`px-2 py-1 rounded text-xs font-medium ${color}`}>{label}</span>;
    };

    // Main Dashboard Component
    function Dashboard() {
      const [currentTime, setCurrentTime] = useState(new Date().toLocaleString('th-TH'));
      const { kpis, expiringLots, productionOrders, recentTransactions, coldStorageTemp } = dashboardData;

      useEffect(() => {
        lucide.createIcons();
        const timer = setInterval(() => {
          setCurrentTime(new Date().toLocaleString('th-TH'));
        }, 1000);
        return () => clearInterval(timer);
      }, []);

      return (
        <div className="min-h-screen bg-gray-50">
          {/* Header */}
          <header className="bg-white shadow-sm border-b">
            <div className="max-w-7xl mx-auto px-4 py-4">
              <div className="flex justify-between items-center">
                <div>
                  <h1 className="text-2xl font-bold text-gray-900">üè≠ MUST ERP</h1>
                  <p className="text-sm text-gray-500">Manufacturing Dashboard - ‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô</p>
                </div>
                <div className="text-right">
                  <p className="text-sm text-gray-500">{currentTime}</p>
                  <p className="text-sm font-medium text-gray-700">‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ, ‡∏Ñ‡∏∏‡∏ì Arthur</p>
                </div>
              </div>
            </div>
          </header>

          <main className="max-w-7xl mx-auto px-4 py-6">
            {/* KPI Cards */}
            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
              <KPICard
                title="‡∏ú‡∏•‡∏¥‡∏ï‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ"
                value={kpis.todayProduction.value}
                unit={kpis.todayProduction.unit}
                trend={kpis.todayProduction.trend}
                iconName="factory"
              />
              <KPICard
                title="‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏™‡∏ï‡πá‡∏≠‡∏Å"
                value={kpis.inventoryValue.value}
                unit={kpis.inventoryValue.unit}
                trend={kpis.inventoryValue.trend}
                iconName="package"
              />
              <KPICard
                title="‡πÉ‡∏ö‡∏™‡∏±‡πà‡∏á‡∏ú‡∏•‡∏¥‡∏ï‡∏£‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£"
                value={kpis.pendingOrders.value}
                unit={kpis.pendingOrders.unit}
                iconName="clock"
              />
              <KPICard
                title="‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏Å‡∏•‡πâ‡∏´‡∏°‡∏î"
                value={kpis.lowStockItems.value}
                unit={kpis.lowStockItems.unit}
                alert={kpis.lowStockItems.alert}
                iconName="alert-triangle"
              />
            </div>

            {/* Cold Storage Alert */}
            <div className={`rounded-xl p-4 mb-6 flex items-center justify-between ${
              coldStorageTemp.status === 'NORMAL' ? 'bg-green-50 border border-green-200' : 'bg-red-50 border border-red-200'
            }`}>
              <div className="flex items-center gap-3">
                <i data-lucide="thermometer" className={`w-8 h-8 ${coldStorageTemp.status === 'NORMAL' ? 'text-green-600' : 'text-red-600'}`}></i>
                <div>
                  <p className="font-medium">‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏¢‡πá‡∏ô</p>
                  <p className="text-sm text-gray-600">‡∏ä‡πà‡∏ß‡∏á‡∏õ‡∏Å‡∏ï‡∏¥: {coldStorageTemp.min}¬∞C - {coldStorageTemp.max}¬∞C</p>
                </div>
              </div>
              <div className="text-right">
                <p className={`text-3xl font-bold ${coldStorageTemp.status === 'NORMAL' ? 'text-green-600' : 'text-red-600'}`}>
                  {coldStorageTemp.current}¬∞C
                </p>
                <p className={`text-sm ${coldStorageTemp.status === 'NORMAL' ? 'text-green-600' : 'text-red-600'}`}>
                  {coldStorageTemp.status === 'NORMAL' ? '‚úì ‡∏õ‡∏Å‡∏ï‡∏¥' : '‚ö† ‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥'}
                </p>
              </div>
            </div>

            <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
              {/* Production Orders */}
              <div className="bg-white rounded-xl shadow-sm border">
                <div className="p-4 border-b flex justify-between items-center">
                  <h2 className="font-semibold text-gray-900">üìã ‡πÉ‡∏ö‡∏™‡∏±‡πà‡∏á‡∏ú‡∏•‡∏¥‡∏ï‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</h2>
                  <button className="text-blue-600 text-sm hover:underline">‡∏î‡∏π‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‚Üí</button>
                </div>
                <div className="divide-y">
                  {productionOrders.map(order => (
                    <div key={order.id} className="p-4 hover:bg-gray-50 cursor-pointer">
                      <div className="flex justify-between items-start mb-2">
                        <div>
                          <p className="font-medium text-gray-900">{order.orderNo}</p>
                          <p className="text-sm text-gray-500">{order.product}</p>
                        </div>
                        <StatusBadge status={order.status} />
                      </div>
                      <div className="flex justify-between items-center text-sm">
                        <span className="text-gray-500">‡πÄ‡∏õ‡πâ‡∏≤: {order.qty} ‡∏Ç‡∏ß‡∏î</span>
                        <span className="text-gray-500">‡πÄ‡∏£‡∏¥‡πà‡∏°: {order.startTime}</span>
                      </div>
                      {order.status === 'IN_PROGRESS' && (
                        <div className="mt-2">
                          <div className="flex justify-between text-sm mb-1">
                            <span>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤</span>
                            <span className="font-medium">{order.progress}%</span>
                          </div>
                          <div className="w-full bg-gray-200 rounded-full h-2">
                            <div
                              className="bg-blue-600 h-2 rounded-full"
                              style={{ width: `${order.progress}%` }}
                            />
                          </div>
                        </div>
                      )}
                    </div>
                  ))}
                </div>
              </div>

              {/* Expiring Lots */}
              <div className="bg-white rounded-xl shadow-sm border">
                <div className="p-4 border-b flex justify-between items-center">
                  <h2 className="font-semibold text-gray-900">‚ö†Ô∏è Lot ‡πÉ‡∏Å‡∏•‡πâ‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏</h2>
                  <button className="text-blue-600 text-sm hover:underline">‡∏î‡∏π‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‚Üí</button>
                </div>
                <div className="divide-y">
                  {expiringLots.map(lot => (
                    <div key={lot.id} className="p-4 hover:bg-gray-50 cursor-pointer">
                      <div className="flex justify-between items-start">
                        <div>
                          <p className="font-medium text-gray-900">{lot.lotNumber}</p>
                          <p className="text-sm text-gray-500">{lot.item}</p>
                        </div>
                        <span className={`px-2 py-1 rounded text-xs font-medium ${
                          lot.daysLeft <= 3 ? 'bg-red-100 text-red-800' :
                          lot.daysLeft <= 7 ? 'bg-orange-100 text-orange-800' :
                          'bg-yellow-100 text-yellow-800'
                        }`}>
                          {lot.daysLeft <= 3 ? '‚ö†Ô∏è' : ''} {lot.daysLeft} ‡∏ß‡∏±‡∏ô
                        </span>
                      </div>
                      <div className="flex justify-between items-center text-sm mt-2 text-gray-500">
                        <span>‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: {lot.qty}</span>
                        <span>‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏: {lot.expiry}</span>
                      </div>
                    </div>
                  ))}
                </div>
              </div>

              {/* Recent Transactions */}
              <div className="bg-white rounded-xl shadow-sm border lg:col-span-2">
                <div className="p-4 border-b flex justify-between items-center">
                  <h2 className="font-semibold text-gray-900">üì¶ ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</h2>
                  <button className="text-blue-600 text-sm hover:underline">‡∏î‡∏π‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‚Üí</button>
                </div>
                <div className="overflow-x-auto">
                  <table className="w-full">
                    <thead className="bg-gray-50">
                      <tr>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">‡πÄ‡∏ß‡∏•‡∏≤</th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">‡∏ú‡∏π‡πâ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</th>
                      </tr>
                    </thead>
                    <tbody className="divide-y">
                      {recentTransactions.map(tx => (
                        <tr key={tx.id} className="hover:bg-gray-50">
                          <td className="px-4 py-3 text-sm text-gray-900">{tx.time}</td>
                          <td className="px-4 py-3"><TransactionBadge type={tx.type} /></td>
                          <td className="px-4 py-3 text-sm text-gray-900">{tx.item}</td>
                          <td className={`px-4 py-3 text-sm font-medium ${
                            tx.qty.startsWith('+') ? 'text-green-600' : 'text-red-600'
                          }`}>{tx.qty}</td>
                          <td className="px-4 py-3 text-sm text-gray-500">{tx.user}</td>
                        </tr>
                      ))}
                    </tbody>
                  </table>
                </div>
              </div>
            </div>

            {/* Quick Actions */}
            <div className="mt-6 grid grid-cols-2 md:grid-cols-4 gap-4">
              <button className="bg-blue-600 text-white rounded-xl p-4 flex flex-col items-center gap-2 hover:bg-blue-700 transition shadow-lg">
                <span className="text-2xl">üè≠</span>
                <span className="font-medium">‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏ö‡∏™‡∏±‡πà‡∏á‡∏ú‡∏•‡∏¥‡∏ï</span>
              </button>
              <button className="bg-green-600 text-white rounded-xl p-4 flex flex-col items-center gap-2 hover:bg-green-700 transition shadow-lg">
                <span className="text-2xl">üöö</span>
                <span className="font-medium">‡∏£‡∏±‡∏ö‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤</span>
              </button>
              <button className="bg-purple-600 text-white rounded-xl p-4 flex flex-col items-center gap-2 hover:bg-purple-700 transition shadow-lg">
                <span className="text-2xl">üì¶</span>
                <span className="font-medium">‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ï‡πá‡∏≠‡∏Å</span>
              </button>
              <button className="bg-orange-600 text-white rounded-xl p-4 flex flex-col items-center gap-2 hover:bg-orange-700 transition shadow-lg">
                <span className="text-2xl">‚úÖ</span>
                <span className="font-medium">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï</span>
              </button>
            </div>

            {/* Footer Note */}
            <div className="mt-8 text-center text-sm text-gray-400">
              <p>MUST ERP - Manufacturing Module Prototype</p>
              <p>Version 1.0 | Built with React + Tailwind CSS</p>
            </div>
          </main>
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<Dashboard />);
  </script>
</body>
</html>
